(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/trending/index"],{"581c":function(t,e,n){"use strict";n.r(e);var i=n("d8ba"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},acf3:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},d669:function(t,e,n){},d8ba:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("2f62"),a=o(n("eaab")),r=n("6110");function o(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){u(t,e,n[e])})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){return n.e("components/DeckList").then(n.bind(null,"41b8"))},f=function(){return n.e("components/NavBar").then(n.bind(null,"661f"))},l={components:{DeckList:d,NavBar:f},data:function(){return{deckList:[],report_date:"",interstitialAd:null}},computed:c({},(0,i.mapGetters)(["decksName","navHeight"]),{updateDate:function(){if(this.report_date){var t=new Date(this.report_date);return t.getMonth()+1+"月"+t.getDate()+"日更新"}},adsOpenFlag:function(){return a.default.adsOpenFlag}}),methods:{formatDeckList:function(){var t=this,e=!0,n=!1,i=void 0;try{for(var r,o=function(){var e=r.value;e.image=a.default.faction[e.faction].image;var n=t.decksName.filter(function(t){return t.ename===e.deck_name});n[0]&&n[0].cname?e.cname=n[0].cname:e.cname=e.deck_name,e.win_rate=e.win_rate.toFixed(1)},c=this.deckList[Symbol.iterator]();!(e=(r=c.next()).done);e=!0)o()}catch(u){n=!0,i=u}finally{try{e||null==c.return||c.return()}finally{if(n)throw i}}},genTrendingList:function(){var e=this;t.showNavigationBarLoading(),(0,r.getTrendingList)().then(function(n){e.deckList=n.list,e.formatDeckList(),e.report_date=n.date,t.stopPullDownRefresh(),t.hideNavigationBarLoading()}).catch(function(e){console.log(e),t.stopPullDownRefresh(),t.hideNavigationBarLoading()})},handleDeckClick:function(e){console.log(e),t.navigateTo({url:"/pages/decks/deckDetail/index?id=".concat(e.id,"&trending=1")})}},mounted:function(){this.genTrendingList(),this.interstitialAd&&this.interstitialAd.show().catch(function(t){console.error(t)})},onLoad:function(){t.createInterstitialAd&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:"adunit-47f9875b7cdea202"}))},onPullDownRefresh:function(){this.genTrendingList()},onShareAppMessage:function(t){return{title:"炉石传说情报站",path:"/pages/trending/index"}}};e.default=l}).call(this,n("543d")["default"])},e118:function(t,e,n){"use strict";n.r(e);var i=n("acf3"),a=n("581c");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("f4e0");var o=n("2877"),c=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"52b44d46",null);e["default"]=c.exports},f4e0:function(t,e,n){"use strict";var i=n("d669"),a=n.n(i);a.a}},[["c03a","common/runtime","common/vendor"]]]);