(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/collection/index"],{"422c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n("eaab")),a=n("2f62");function c(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){return n.e("components/DeckList").then(n.bind(null,"41b8"))},u=function(){return n.e("components/NavBar").then(n.bind(null,"661f"))},s={components:{DeckList:l,NavBar:u},data:function(){return{deckList:[],collectionList:[]}},computed:i({},(0,a.mapGetters)(["collectedDecks","navHeight","userInfo","decksName"])),methods:{formatDeckList:function(){var e=this;this.collectionList=[],console.log(this.deckList);var t=!0,n=!1,a=void 0;try{for(var c,i=function(){var t=c.value;t.image=o.default.faction[t.faction].image;var n=e.decksName.filter(function(e){return e.ename===t.deck_name});console.log("aaa",t,n),n[0]&&n[0].cname?t.cname=n[0].cname:t.cname=t.deck_name,n=e.collectionList.filter(function(e){return parseInt(t.created_at/1e4)===parseInt(e.created_at/1e4)}),n.length<=0?(console.log(t.created_at),e.collectionList.push({created_at:t.created_at,format_time:o.default.formatTime(new Date(1e3*t.created_at)),list:[t]})):n[0].list.push(t)},r=this.deckList[Symbol.iterator]();!(t=(c=r.next()).done);t=!0)i()}catch(l){n=!0,a=l}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}},genUserCollection:function(){var e=this;wx.showLoading({title:"加载中",mask:!0}),wx.showNavigationBarLoading(),this.$store.dispatch("getCollectedDecks",this.userInfo.id).then(function(t){e.deckList=t.list.filter(function(e){return!(!e||""===e)}),console.log(e.deckList),e.formatDeckList(),wx.hideLoading(),wx.hideNavigationBarLoading(),wx.stopPullDownRefresh()}).catch(function(e){console.log(e),wx.hideLoading(),wx.hideNavigationBarLoading(),wx.stopPullDownRefresh()})},handleDeckClick:function(e){wx.navigateTo({url:"/pages/decks/deckDetail/index?id=".concat(e.id,"&collected=1")})}},mounted:function(){},onShow:function(){this.genUserCollection()},onPullDownRefresh:function(){this.genUserCollection()}};t.default=s},"5f2e":function(e,t,n){"use strict";n.r(t);var o=n("422c"),a=n.n(o);for(var c in o)"default"!==c&&function(e){n.d(t,e,function(){return o[e]})}(c);t["default"]=a.a},8224:function(e,t,n){"use strict";var o=n("c021"),a=n.n(o);a.a},"9aa8":function(e,t,n){"use strict";n.r(t);var o=n("a6ac"),a=n("5f2e");for(var c in a)"default"!==c&&function(e){n.d(t,e,function(){return a[e]})}(c);n("8224");var i=n("2877"),r=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,"0fe21f16",null);t["default"]=r.exports},a6ac:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},c021:function(e,t,n){}},[["acda","common/runtime","common/vendor"]]]);