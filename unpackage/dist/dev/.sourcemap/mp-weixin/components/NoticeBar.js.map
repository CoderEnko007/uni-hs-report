{"version":3,"sources":["webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue","webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue?1bf4","webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue?1c86","webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue?1c8b","webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue?581d","webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue?fa2c","webpack:///I:/uni-app/hs-report-station/components/NoticeBar.vue?cca2"],"names":["mounted","$emit","componentId","props","watch","animationData","methods","handleClose","onBarClick","initZanNoticeBarScroll","that","zanNoticeBarNode","width","undefined","wrapWidth","animation","resetAnimation","timerSwitch","query","wx","createSelectorQuery","select","boundingClientRect","exec","res","currentComponent","rect","console","log","mstime","createAnimation","duration","timingFunction","scrollZanNoticeBar","aninationData","translateX","step","setTimeout","export","resetAnimationData"],"mappings":"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","file":"components/NoticeBar.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  mounted () {\n    this.$emit('ref', { [this.componentId]: this })\n  },\n  props: ['componentId', 'animationData', 'text'],\n  watch: {\n    animationData: function () {\n      // console.log('asd', this.animationData)\n    }\n  },\n  methods: {\n    handleClose() {\n      this.$emit('close')\n    },\n    onBarClick() {\n      this.$emit('barClick')\n    },\n    initZanNoticeBarScroll (that, componentId) {\n      // console.log('initZanNoticeBarScroll')\n      that.zanNoticeBarNode = that.zanNoticeBarNode || {}\n      that.zanNoticeBarNode[`${componentId}`] = {\n        width: undefined,\n        wrapWidth: undefined,\n        animation: null,\n        resetAnimation: null,\n        timerSwitch: true\n      }\n\n      // console.log(`#${componentId}__content`)\n      let query = wx.createSelectorQuery().select(`#${componentId}__content`).boundingClientRect()\n      query.exec(function (res) {\n        // var backImageRect = res[0]\n        // var screenWidth = backImageRect.width\n        // console.log(screenWidth + '  ' + JSON.stringify(res))\n      })\n\n      const currentComponent = that.zanNoticeBarNode[`${componentId}`]\n      wx.createSelectorQuery().select(`#${componentId}__content`).boundingClientRect().exec((rect) => {\n        if (!rect[0] || !rect[0].width) {\n          console.log('no content rect')\n          return\n        }\n        currentComponent.width = rect[0].width\n        wx.createSelectorQuery().select(`#${componentId}__content-wrap`).boundingClientRect().exec((rect) => {\n          if (!rect[0] || !rect[0].width) {\n            console.log('no __content rect')\n            return\n          }\n          currentComponent.wrapWidth = rect[0].width\n          // console.log('aaa', currentComponent)\n          if (currentComponent.wrapWidth < currentComponent.width) {\n            var mstime = currentComponent.width / 40 * 1000\n            currentComponent.animation = wx.createAnimation({\n              duration: mstime,\n              timingFunction: 'linear'\n            })\n            currentComponent.resetAnimation = wx.createAnimation({\n              duration: 1,\n              timingFunction: 'linear'\n            })\n            that.scrollZanNoticeBar(that, componentId, mstime)\n          }\n        })\n      })\n    },\n\n    scrollZanNoticeBar (that, componentId, mstime) {\n      // console.log('scrollZanNoticeBar')\n      const currentComponent = that.zanNoticeBarNode[`${componentId}`]\n      const aninationData = currentComponent.animation.translateX((-mstime * 40 / 1000)).step()\n      setTimeout(() => {\n        that[componentId].animationData = aninationData.export()\n      }, 500)\n      const resetAnimationData = currentComponent.resetAnimation.translateX(currentComponent.wrapWidth).step()\n      setTimeout(() => {\n        that[componentId].animationData = resetAnimationData.export()\n      }, mstime+300)\n\n      if (currentComponent.timerSwitch) {\n        setTimeout(() => {\n          that.scrollZanNoticeBar(that, componentId, mstime)\n        }, mstime+300)\n      }\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./NoticeBar.vue?vue&type=template&id=5567a9bf&scoped=true&\"\nimport script from \"./NoticeBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NoticeBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NoticeBar.vue?vue&type=style&index=0&id=5567a9bf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5567a9bf\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5567a9bf', component.options)\n    } else {\n      api.reload('5567a9bf', component.options)\n    }\n    module.hot.accept(\"./NoticeBar.vue?vue&type=template&id=5567a9bf&scoped=true&\", function () {\n      api.rerender('5567a9bf', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"I:/uni-app/hs-report-station/components/NoticeBar.vue\"\nexport default component.exports","import mod from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./NoticeBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./NoticeBar.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./NoticeBar.vue?vue&type=style&index=0&id=5567a9bf&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./NoticeBar.vue?vue&type=style&index=0&id=5567a9bf&lang=scss&scoped=true&\"","export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./NoticeBar.vue?vue&type=template&id=5567a9bf&scoped=true&\""],"sourceRoot":""}