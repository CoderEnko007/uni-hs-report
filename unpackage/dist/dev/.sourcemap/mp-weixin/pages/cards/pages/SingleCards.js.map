{"version":3,"sources":["webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue","webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue?7884","webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue?6c0a","webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue?3955","webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue?9c69","webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue?c9b0","webpack:///I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue?86f5"],"names":["defaultFilter","search","cost","faction","mode","type","rarity","series","name","components","SearchBar","FilterMenu","CardList","computed","obtainSeriesList","array","$store","state","cards","unshift","id","length","push","filterTabBar","items","data","test","filter","Object","assign","costList","icon","text","selected","selectedFilterTabItem","page","more","cardsList","methods","genFilterMenuItems","key","utils","hasOwnProperty","handleFilterBarClick","item","handleCostClick","genCardsList","handleSearch","handleFilterMenuClick","console","log","handleMaskClick","handleCardClick","dbfId","wx","navigateTo","url","genCardImage","hsId","fbiFlag","fbiVersion","fbiKey","init","showNavigationBarLoading","then","res","list","objects","map","image","card_resource","genCardsImageURL","stopPullDownRefresh","concat","emptyNum","i","meta","total_count","hideNavigationBarLoading","catch","err","scrollToBottom","mounted","onShareAppMessage","title","path"],"mappings":"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","file":"pages/cards/pages/SingleCards.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport { getCardPicture } from \"@/utils\";\nimport utils from '@/utils'\nimport SearchBar from '@/components/SearchBar'\nimport FilterMenu from '@/components/FilterMenu'\nimport CardList from '@/components/CardList'\nimport {getSeriesData, getCardsList, genCardsImageURL} from \"@/api/dbapi\";\n\nconst defaultFilter = {\n  search: null,\n  cost: null,\n  faction: null,\n  mode: null,\n  type: null,\n  rarity: null,\n  series: null,\n}\nexport default {\n  name: 'SingleCards',\n  components: {\n    SearchBar,\n    FilterMenu,\n    CardList,\n  },\n  computed: {\n    ...mapGetters([\n      'fbiVersion',\n      'fbiKey',\n      'fbiFlag',\n      'card_resource'\n    ]),\n    obtainSeriesList() {\n      let array = this.$store.state.cards.series\n      array.unshift({id: 'all', name: '全部扩展包', mode: 'all'})\n      if (array.length%2) {\n        array.push({})\n      }\n      this.filterTabBar[4].items = array\n    },\n  },\n  data() {\n    return {\n      test: '',\n      filter: Object.assign({}, defaultFilter),\n      costList: [\n        {cost: 0, icon: '/static/mana/0.png'},\n        {cost: 1, icon: '/static/mana/1.png'},\n        {cost: 2, icon: '/static/mana/2.png'},\n        {cost: 3, icon: '/static/mana/3.png'},\n        {cost: 4, icon: '/static/mana/4.png'},\n        {cost: 5, icon: '/static/mana/5.png'},\n        {cost: 6, icon: '/static/mana/6.png'},\n        {cost: 7, icon: '/static/mana/7+.png'}\n      ],\n      filterTabBar: [\n        {name: 'faction', text: '职业', items: [], selected: '职业'},\n        {name: 'mode', text: '游戏模式', items: [], selected: '游戏模式'},\n        {name: 'type', text: '类型', items: [], selected: '类型'},\n        {name: 'rarity', text: '稀有度', items: [], selected: '稀有度'},\n        {name: 'series', text: '扩展包', items: [], selected: '扩展包'}\n      ],\n      selectedFilterTabItem: null,\n      page: 0,\n      more: true,\n      cardsList: []\n    }\n  },\n  methods: {\n    genFilterMenuItems() {\n      let array = []\n      for (let key in utils.faction) {\n        if (utils.faction.hasOwnProperty(key)) {\n          array.push({id: key, name: utils.faction[key].name})\n        }\n      }\n      array.push({id: 'Neutral', name: '中立'})\n      array.unshift({id: 'all', name: '全部职业'})\n      this.filterTabBar[0].items = array\n\n      array = utils.mode\n      array.unshift({id: 'all', name: '全部模式'})\n      this.filterTabBar[1].items = utils.mode\n\n      array = []\n      for (let key in utils.type) {\n        if (utils.type.hasOwnProperty(key)) {\n          array.push({id: key, name: utils.type[key].name})\n        }\n      }\n      array.unshift({id: 'all', name: '全部类型'})\n      this.filterTabBar[2].items = array\n\n      array = []\n      for (let key in utils.rarity) {\n        if (utils.rarity.hasOwnProperty(key)) {\n          array.push({id: key, name: utils.rarity[key].name})\n        }\n      }\n      array.unshift({id: 'all', name: '全部稀有度'})\n      this.filterTabBar[3].items = array\n\n      for (let filter of this.filterTabBar) {\n        if (filter.items.length % 2) {\n          filter.items.push({})\n        }\n      }\n    },\n    handleFilterBarClick(item) {\n      this.selectedFilterTabItem = this.selectedFilterTabItem === item.name?null:item.name\n    },\n    handleCostClick(item) {\n      this.filter.cost = this.filter.cost === item?null:item\n      this.genCardsList(true)\n    },\n    handleSearch() {\n      this.genCardsList(true)\n    },\n    handleFilterMenuClick(filter) {\n      this.selectedFilterTabItem = null\n      switch(filter.name) {\n        case 'faction': this.filter.faction = filter.item; this.filterTabBar[0].selected=filter.item.name; break\n        case 'mode': this.filter.mode = filter.item; this.filterTabBar[1].selected=filter.item.name; break\n        case 'type': this.filter.type = filter.item; this.filterTabBar[2].selected=filter.item.name; break\n        case 'rarity': this.filter.rarity = filter.item; this.filterTabBar[3].selected=filter.item.name; break\n        case 'series': this.filter.series = filter.item; this.filterTabBar[4].selected=filter.item.name; break\n        default: console.log(filter.name+' not found');\n      }\n      this.genCardsList(true)\n    },\n    handleMaskClick() {\n      this.selectedFilterTabItem = null\n    },\n    handleCardClick(item) {\n      // 如果过滤器菜单打开则关闭\n      if (this.selectedFilterTabItem!==null) {\n        this.selectedFilterTabItem = null\n        return\n      }\n      if (!item.dbfId) {\n        return\n      }\n      wx.navigateTo({\n        url: `/pages/cards/cardDetail/index?id=${item.dbfId}`\n      })\n    },\n    genCardImage(hsId) {\n      return getCardPicture(this, hsId, false, this.fbiFlag, this.fbiVersion, this.fbiKey)\n    },\n    genCardsList(init) {\n      if (init) {\n        this.page = 0\n        this.more = true\n        this.cardsList = []\n      }\n      wx.showNavigationBarLoading();\n      getCardsList(this.filter, 21, this.page).then(res => {\n        let list = res.objects.map(item => {\n          // let image = utils.genCardsImageURL(item.hsId)\n          // let image = item.img_card_link\n          let image = ''\n          if (this.card_resource === 'fbi') {\n            image = this.genCardImage(item.hsId)\n          } else if (this.card_resource === 'hsreplay') {\n            image = utils.genCardsImageURL(item.hsId)\n          } else {\n            image = utils.genCardsImageURL(item.hsId)\n          }\n          return {dbfId: item.dbfId, name: item.name, image: image}\n        })\n        if (init) {\n          this.cardsList = list\n          wx.stopPullDownRefresh();\n        } else {\n          this.cardsList = this.cardsList.concat(list)\n        }\n        let emptyNum = this.cardsList.length % 3\n        if(emptyNum) {\n          for (let i=0; i<(3-emptyNum); i++) {\n            this.cardsList.push({})\n          }\n        }\n        if (this.cardsList.length >= res.meta.total_count) {\n          this.more = false\n        }\n        wx.hideNavigationBarLoading()\n        wx.stopPullDownRefresh();\n      }).catch(err => {\n        console.log(err)\n        wx.hideNavigationBarLoading()\n        wx.stopPullDownRefresh();\n      })\n    },\n    scrollToBottom() {\n      if (!this.more) return false\n      this.page += 1\n      this.genCardsList(false)\n    },\n  },\n  mounted() {\n    this.genFilterMenuItems()\n    // this.obtainSeriesList()\n    this.genCardsList(true)\n  },\n  // onReachBottom() {\n  //   if (!this.more) return false\n  //   this.page += 1\n  //   this.genCardsList(false)\n  // },\n  // onPullDownRefresh() {\n  //   this.obtainSeriesList()\n  //   this.genCardsList(true)\n  // },\n  onShareAppMessage(res) {\n    return {\n      title: '炉石传说情报站',\n      path: '/pages/index/main'\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SingleCards.vue?vue&type=template&id=64392eec&scoped=true&\"\nimport script from \"./SingleCards.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleCards.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingleCards.vue?vue&type=style&index=0&id=64392eec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64392eec\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('64392eec', component.options)\n    } else {\n      api.reload('64392eec', component.options)\n    }\n    module.hot.accept(\"./SingleCards.vue?vue&type=template&id=64392eec&scoped=true&\", function () {\n      api.rerender('64392eec', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"I:/uni-app/hs-report-station/pages/cards/pages/SingleCards.vue\"\nexport default component.exports","import mod from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./SingleCards.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./SingleCards.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./SingleCards.vue?vue&type=style&index=0&id=64392eec&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./SingleCards.vue?vue&type=style&index=0&id=64392eec&lang=scss&scoped=true&\"","export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./SingleCards.vue?vue&type=template&id=64392eec&scoped=true&\""],"sourceRoot":""}