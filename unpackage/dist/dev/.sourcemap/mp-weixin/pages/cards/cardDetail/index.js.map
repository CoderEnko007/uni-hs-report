{"version":3,"sources":["webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue","webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue?5043","webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue?b125","webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue?2fe2","webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue?0ea5","webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue?1749","webpack:///I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue?cfa0"],"names":["heroes","Druid","name","image","Hunter","Mage","Paladin","Priest","Rogue","Shaman","Warlock","Warrior","Neutral","defaultCardDetail","ename","series","flavor","type","bgImg","cardImg","heroIcon","components","FooterMenu","floatBtnGroup","NavBar","SpinKit","data","cardId","cardHsId","cardDetail","Object","assign","myAudio","showEnAudio","showZhAudio","selectedAudio","audioPlaying","imageLoaded","computed","getEnAudio","audios","filter","item","getZhAudio","genEntourage","entourage","formatData","map","v","hsId","replace","trim","card_resource","genCardImage","utils","genCardsImageURL","emptyNum","length","i","push","methods","imageLoad","e","fbiFlag","fbiVersion","fbiKey","initCardDetail","wx","showNavigationBarLoading","dbfId","parseInt","then","res","$store","state","cards","set_id","id","mode","cardClass","race","cname","src","audio_play_en","JSON","parse","audio_attack_en","audio_trigger_en","audio_death_en","audio_play_zh","audio_attack_zh","audio_trigger_zh","audio_death_zh","audiosList","index","hasOwnProperty","stopPullDownRefresh","hideNavigationBarLoading","catch","err","console","log","previewCard","previewImage","urls","handleAudioPlay","stop","autoplay","encodeURI","play","handleCopyBtn","text","setClipboardData","success","showToast","title","handleEntourageClick","navigateTo","url","mounted","$root","$mp","query","createInnerAudioContext","onPlay","onCanplay","onEnded","onWaiting","onError","errMsg","errCode","onPullDownRefresh","onUnload","destroy","onShareAppMessage","from","path"],"mappings":"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","file":"pages/cards/cardDetail/index.js","sourcesContent":["//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { getCardPicture } from \"@/utils\";\r\nimport { mapGetters } from 'vuex'\r\nimport utils from '@/utils'\r\nimport {genOrigImageURL, genCardsImageURL, gen512CardsImageURL} from '@/utils'\r\nimport {getCardDetail} from \"@/api/dbapi\";\r\nimport FooterMenu from '@/components/FooterMenu'\r\nimport floatBtnGroup from '@/components/floatBtnGroup'\r\nimport NavBar from '@/components/NavBar'\r\nimport SpinKit from '@/components/SpinKit'\r\n\r\nconst heroes = {\r\n  Druid: {name: '德鲁伊', image: '/static/heroIcons/druid.png'},\r\n  Hunter: {name: '猎人', image: '/static/heroIcons/hunter.png'},\r\n  Mage: {name: '法师', image: '/static/heroIcons/mage.png'},\r\n  Paladin: {name: '圣骑士', image: '/static/heroIcons/paladin.png'},\r\n  Priest: {name: '牧师', image: '/static/heroIcons/priest.png'},\r\n  Rogue: {name: '潜行者', image: '/static/heroIcons/rogue.png'},\r\n  Shaman: {name: '萨满', image: '/static/heroIcons/shaman.png'},\r\n  Warlock: {name: '术士', image: '/static/heroIcons/warlock.png'},\r\n  Warrior: {name: '战士', image: '/static/heroIcons/warrior.png'},\r\n  Neutral: {name: '中立', image: ''}\r\n}\r\nconst defaultCardDetail = {\r\n  name: '',\r\n  ename: '',\r\n  series: '',\r\n  flavor: '',\r\n  type: '',\r\n  bgImg: null,\r\n  cardImg: null,\r\n  heroIcon: null,\r\n}\r\nexport default {\r\n  components: {\r\n    FooterMenu,\r\n    floatBtnGroup,\r\n    NavBar,\r\n    SpinKit\r\n  },\r\n  data() {\r\n    return {\r\n      cardId: null,\r\n      cardHsId: null,\r\n      cardDetail: Object.assign({}, defaultCardDetail),\r\n      myAudio: null,\r\n      showEnAudio: false,\r\n      showZhAudio: false,\r\n      selectedAudio: '',\r\n      audioPlaying: false,\r\n      imageLoaded: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'navHeight',\r\n      'fbiVersion',\r\n      'fbiKey',\r\n      'fbiFlag',\r\n      'card_resource'\r\n    ]),\r\n    getEnAudio() {\r\n      if (this.cardDetail.audios) {\r\n        return this.cardDetail.audios.filter(item => {\r\n          return item.type === 'en'\r\n        })\r\n      }\r\n    },\r\n    getZhAudio() {\r\n      if (this.cardDetail.audios) {\r\n        return this.cardDetail.audios.filter(item => {\r\n          return item.type === 'zh'\r\n        })\r\n      }\r\n    },\r\n    genEntourage() {\r\n      if (this.cardDetail.entourage) {\r\n        let formatData = this.cardDetail.entourage.map(v => {\r\n          let hsId = v.replace(/\\'/g, '').replace(/\"/g, '').replace('[', '').replace(']', '').trim()\r\n          let cardImg = ''\r\n          if (this.card_resource === 'fbi') {\r\n            cardImg = this.genCardImage(hsId)\r\n          } else if (this.card_resource === 'hsreplay') {\r\n            cardImg = utils.genCardsImageURL(hsId)\r\n          } else {\r\n            cardImg = utils.genCardsImageURL(hsId)\r\n          }\r\n          return {\r\n            hsId: hsId,\r\n            image: cardImg\r\n          }\r\n        })\r\n        let emptyNum = formatData.length % 3\r\n        if(emptyNum) {\r\n          for (let i=0; i<(3-emptyNum); i++) {\r\n            formatData.push({})\r\n          }\r\n        }\r\n        return formatData\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    imageLoad(e) {\r\n      this.imageLoaded = true\r\n    },\r\n    genCardImage(hsId) {\r\n      return getCardPicture(this, hsId, false, this.fbiFlag, this.fbiVersion, this.fbiKey)\r\n    },\r\n    initCardDetail() {\r\n      this.showEnAudio = false\r\n      this.showZhAudio = false\r\n      wx.showNavigationBarLoading();\r\n      getCardDetail({dbfId: parseInt(this.cardId), hsId: this.cardHsId}).then(res => {\r\n        this.cardDetail = res[0]\r\n        this.cardDetail.bgImg = genOrigImageURL(this.cardDetail.hsId)\r\n        // this.cardDetail.cardImg = gen512CardsImageURL(this.cardDetail.hsId)\r\n        // this.cardDetail.cardImg = this.cardDetail.img_card_link\r\n        if (this.card_resource === 'fbi') {\r\n          this.cardDetail.cardImg = this.genCardImage(this.cardDetail.hsId)\r\n        } else if (this.card_resource === 'hsreplay') {\r\n          this.cardDetail.cardImg = utils.genCardsImageURL(this.cardDetail.hsId)\r\n        } else {\r\n          this.cardDetail.cardImg = utils.genCardsImageURL(this.cardDetail.hsId)\r\n        }\r\n        // this.cardDetail.heroIcon = heroes[this.cardDetail.cardClass].image\r\n        for (let item of this.$store.state.cards.series) {\r\n          if(this.cardDetail.set_id === item.id) {\r\n            this.cardDetail.series = item.name\r\n            if (item.mode === 'Standard') {\r\n              this.cardDetail.series += '（标准）'\r\n            } else if (item.mode === 'Wild') {\r\n              this.cardDetail.series += '（狂野）'\r\n            }\r\n          }\r\n        }\r\n        if (heroes[this.cardDetail.cardClass]) {\r\n          this.cardDetail.type = heroes[this.cardDetail.cardClass].name+'-'+utils.type[this.cardDetail.type].name\r\n        } else {\r\n          this.cardDetail.type = utils.type[this.cardDetail.type].name\r\n        }\r\n        if (this.cardDetail.race) {\r\n          this.cardDetail.type += '-'+utils.race[this.cardDetail.race].name\r\n        }\r\n\r\n        this.cardDetail.audios = [\r\n          {type: 'en', ename: 'audio_play_en', cname: '出场', src: this.cardDetail.audio_play_en!==\"\"?JSON.parse(this.cardDetail.audio_play_en):\"\"},\r\n          {type: 'en', ename: 'audio_attack_en', cname: '攻击', src: this.cardDetail.audio_attack_en!==\"\"?JSON.parse(this.cardDetail.audio_attack_en):\"\"},\r\n          {type: 'en', ename: 'audio_trigger_en', cname: '触发', src: this.cardDetail.audio_trigger_en!==\"\"?JSON.parse(this.cardDetail.audio_trigger_en):\"\"},\r\n          {type: 'en', ename: 'audio_death_en', cname: '阵亡', src: this.cardDetail.audio_death_en!==\"\"?JSON.parse(this.cardDetail.audio_death_en):\"\"},\r\n          {type: 'zh', ename: 'audio_play_zh', cname: '出场', src: this.cardDetail.audio_play_zh!==\"\"?JSON.parse(this.cardDetail.audio_play_zh):\"\"},\r\n          {type: 'zh', ename: 'audio_attack_zh', cname: '攻击', src: this.cardDetail.audio_attack_zh!==\"\"?JSON.parse(this.cardDetail.audio_attack_zh):\"\"},\r\n          {type: 'zh', ename: 'audio_trigger_zh', cname: '触发', src: this.cardDetail.audio_trigger_zh!==\"\"?JSON.parse(this.cardDetail.audio_trigger_zh):\"\"},\r\n          {type: 'zh', ename: 'audio_death_zh', cname: '阵亡', src: this.cardDetail.audio_death_zh!==\"\"?JSON.parse(this.cardDetail.audio_death_zh):\"\"},\r\n        ]\r\n        let audiosList = []\r\n        for (let item of this.cardDetail.audios) {\r\n          if (item.src) {\r\n            for (let index in item.src) {\r\n              if (item.src.hasOwnProperty(index)) {\r\n                let cname = index>0?item.cname+index:item.cname\r\n                audiosList.push({type: item.type, ename: item.ename, cname: cname, src:item.src[index]})\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.cardDetail.audios = audiosList\r\n\r\n        if (this.cardDetail.audio_play_en || this.cardDetail.audio_attack_en\r\n          || this.cardDetail.audio_trigger_en || this.cardDetail.audio_death_en) {\r\n          this.showEnAudio = true\r\n        }\r\n        if (this.cardDetail.audio_play_zh || this.cardDetail.audio_attack_zh\r\n          || this.cardDetail.audio_trigger_zh || this.cardDetail.audio_death_zh) {\r\n          this.showZhAudio = true\r\n        }\r\n        wx.stopPullDownRefresh();\r\n        wx.hideNavigationBarLoading()\r\n      }).catch(err => {\r\n        console.log(err)\r\n        wx.stopPullDownRefresh();\r\n        wx.hideNavigationBarLoading()\r\n      })\r\n    },\r\n    previewCard() {\r\n      if (this.cardDetail.cardImg) {\r\n        wx.previewImage({\r\n          // urls: [gen512CardsImageURL(this.cardDetail.hsId)] // 需要预览的图片http链接列表\r\n          urls: [this.cardDetail.cardImg]\r\n        })\r\n      }\r\n    },\r\n    handleAudioPlay(item) {\r\n      this.selectedAudio = item.src\r\n      if (this.myAudio) {\r\n        if (this.audioPlaying) {\r\n          this.myAudio.stop()\r\n        }\r\n        this.myAudio.autoplay = true\r\n        this.myAudio.src = encodeURI(item.src)\r\n        this.myAudio.play()\r\n      }\r\n    },\r\n    handleCopyBtn(text) {\r\n      wx.setClipboardData({\r\n        data: text,\r\n        success: function (res) {\r\n          wx.showToast({\r\n            title: '复制成功'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleEntourageClick(hsId) {\r\n      if (hsId) {\r\n        wx.navigateTo({\r\n          url: `/pages/cards/cardDetail/index?hsId=${hsId}`\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.imageLoaded = false\r\n    this.cardId = this.$root.$mp.query.id\r\n    this.cardHsId = this.$root.$mp.query.hsId\r\n    this.myAudio = wx.createInnerAudioContext()\r\n    this.myAudio.onPlay(() => {\r\n      console.log('start')\r\n      this.audioPlaying = true\r\n    })\r\n    this.myAudio.onCanplay(() => {\r\n      console.log('Canplay')\r\n    })\r\n    this.myAudio.onEnded(() => {\r\n      console.log('end')\r\n      this.selectedAudio = ''\r\n    })\r\n    this.myAudio.onWaiting(() => {\r\n      console.log('waiting...')\r\n      this.audioPlaying = true\r\n    })\r\n    this.myAudio.onError(res => {\r\n      console.log(res.errMsg)\r\n      console.log(res.errCode)\r\n      console.log(res)\r\n    })\r\n    this.initCardDetail()\r\n  },\r\n  onPullDownRefresh() {\r\n    this.initCardDetail()\r\n  },\r\n  onUnload() {\r\n    if (this.myAudio) {\r\n      this.myAudio.stop()\r\n      this.myAudio.destroy()\r\n    }\r\n    this.selectedAudio = ''\r\n    this.cardId = null\r\n    this.cardHsId = null\r\n    this.cardDetail = Object.assign({}, defaultCardDetail)\r\n  },\r\n  onShareAppMessage(res) {\r\n    if (res.from === 'button') {\r\n      return {\r\n        title: this.cardDetail.name,\r\n        path: `/pages/cards/cardDetail/main?id=${this.cardDetail.dbfId}`\r\n      }\r\n    } else {\r\n      return {\r\n        title: '炉石传说情报站',\r\n        path: '/pages/index/main'\r\n      }\r\n    }\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4e789e98&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4e789e98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e789e98\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4e789e98', component.options)\n    } else {\n      api.reload('4e789e98', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=4e789e98&scoped=true&\", function () {\n      api.rerender('4e789e98', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"I:/uni-app/hs-report-station/pages/cards/cardDetail/index.vue\"\nexport default component.exports","import mod from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4e789e98&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4e789e98&lang=scss&scoped=true&\"","export * from \"-!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\web_workspace\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=template&id=4e789e98&scoped=true&\""],"sourceRoot":""}